(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(t){if(t.ep)return;t.ep=!0;const o=r(t);fetch(t.href,o)}})();function d(A,e=!1,r=document){return e?r.querySelectorAll(A):r.querySelector(A)}function p(A,e=0){return Math.floor(Math.random()*(A-e)+e)}function Q(A=1e3){return new Promise(e=>setTimeout(e,A))}const C="data:audio/wav;base64,UklGRnwFAABXQVZFZm10IBAAAAABAAEAQB8AAIA+AAACABAAZGF0YYgEAAANAG4A5AAmAO4ANAHfAM0AsACXAOMAQwEDAVUAzwC8AP0A0gClAPwA/QBxAFsAXADEAC4BtQDrAC4BNgEbAhUEfQjzEMQcQSzAOrpEOEeNPXYdmerdxeG0uqearpSzbLRfvMjRZPUpJrNTF3Izbw9dsDnNFxjy3doAzTrQU9IW12HTpdhu30brKPVm/+QMWBjJHh0bZBQADoYGRvy+9ATvROs76Lvgitcg08DV49+u8xwLoyD+Lm0xaC1VI30ZsRQeDcj/oO7B2A7IM776vv3Kp+BL9d4LNBoPIzAmNy61Mjc2RzawMgQnrxiQCDf37Omb4ararNZW1zPbu+Ii7Mr4AgcpFt0j0i0mMEUqNB2oDHH9Tu2X4rnYHtKizCvM09K23p7wWQVRGDIlEyiHJd0dYRAoB74At/q294/10/E38BLvCfCm9C79MAX0C2QPmRCKD8kObwxuCNYD3v1g+LryKuzF5+jlFObN6ATwA/et/i4FmAi0DE0PZBEPEi4SUg9tCpIELv+b+db08/EW8avxSvKz8lTzh/Rs9uT4Ovud/ab/igDPARICXgJCAocBYQG6AL//Sf+//2cBhQNoBpwJkAw3DtEO9Q2HDL4J/QR7/3v6UPUg8A3tcOr+6T/rHu7A8mv5pv8uBpwKlgzTDaINBAzMCXAGhAKo/9v8qvo8+f74K/mr+f/5Kvr/+c75GPk3+Lr3i/cL+OX4P/p5+139wv/9AUUEOQbRB3YIFQjxBtYFiQR7A2ICAAH+/s78PPp49wH10fIP8eTvOu9d77TwVfLQ9A33evnt+3D+rgE4BHoFbAYUBhwGPgXCBFQD3wAj/1z9DPyc+yX8Bv5D/xYA8f+n/nr9E/zt+gj6w/nf+fP5hfo6+7/86v5wAbEDqAWMBuYGPQczB8IGIgYFBSQDbQFPAKP/gP6f/Y79Of38/Qr/RAAoAUECAgPqAgcD+QJ+A/wCigL7AToB8QC7AFsBRwLlAiQD9QLRApsCOQLlAfgAGwD7/iP+xv2n/ev9y/6S/vr9Q/1w/Hf8p/xQ/Mr8Pf3q/T3/IAFAAzYEGQTyA9oDbwO0AqoBrQBD/6f9evy3++L6AftO+9j79/t9+7/63/m8+LL3HPfu9uX2U/fC9xz5LPsg/cH+BwAxAf0BGgI7An8CRAKxAqMCGQJaAY8Ae/9T/nX9SPxC+5f6JPrp+av5afm7+RT6WPoS+7z7nPyI/aL+yf+zAJEBgwJVA9YD+wOTA1sDqQJoAqQB+QCFAOH/Fv/3/Rb9avzs+/L7Gvxf/J/8jPx8/Jz8C/1F/eb9zf51/2kAcgEZAmMCowJyAhkCygEsAVUAj//i/mP+x/1u/XH9wf00/oD+Pf7G/c/97f0L/lT+nP70/uH+nf65/h3/uv/k/7X/Zf8F/1P++P2k/TH9wvxL/Mf7Yftb+4n77vsy/D78rPxD/Xf90/1l/qP+GP9m//L/sgAoAUUBZgG2AZIB0QE3AqUC1wLFAtcCmwL5Ad0B1AGAAd4BDwI3Am0CnAKsAmkC4AFaAYsAFQBi/2j/IP+8/kxJU1RUAAAASU5GT0lOQU0YAAAAY2hlc3NfbW92ZV9vbl9hbGFiYXN0ZXIASUFSVAYAAABtaDJvAABJQ1JEBgAAADIwMTYAAElHTlIMAAAAU291bmQgQ2xpcAAAaWQzIGwAAABJRDMEAEAAAABhAAAADAEgBQsuT0NfVENPTgAAAAsAAABTb3VuZCBDbGlwVElUMgAAABgAAABjaGVzc19tb3ZlX29uX2FsYWJhc3RlclREUkMAAAAFAAAAMjAxNlRQRTEAAAAFAAAAbWgybwA=",L="/knight-travails/assets/slide.25d1c87a.mp3",P=new Audio(C),D=new Audio(L),f=8,B=100/f;function w(A){for(const e of A.children)e.innerHTML="";d(".arrowContainer",!0,A).forEach(e=>e.remove())}function h(A,e,r){const n=A.getBoundingClientRect().width/f,t=e.map(u=>u*n+n/2),o=r.map(u=>u*n+n/2),s=o[0]-t[0],a=t[1]-o[1],c=Math.sqrt(s**2+a**2),i=Math.atan2(a,s)*180/Math.PI*-1,l=document.createElement("div");l.className="arrowContainer",l.style.cssText=`
    top: ${t[1]}px;
    left: ${t[0]}px;
    width: ${c}px;
    rotate: ${i}deg;
  `;const g=document.createElement("div");g.className="arrow",l.appendChild(g),A.appendChild(l)}function E(A,e){let r=!1;A.replaceChildren(e.element);for(let n=0;n<f;n++)for(let t=0;t<f;t++){const o=document.createElement("div");o.dataset.coords=`${t}-${n}`,o.classList.add("cell"),n%2===0?o.classList.add(t%2===0?"light":"dark"):o.classList.add(t%2===1?"light":"dark"),o.addEventListener("dragover",s=>{s.preventDefault(),s.dataTransfer.dropEffect="move"}),o.addEventListener("drop",s=>{s.preventDefault(),w(A),P.play(),e.move(t,n)}),o.addEventListener("click",async()=>{if(r)return;r=!0,e.element.draggable=!1,e.element.classList.add("move"),A.classList.add("isMoving"),w(A);let s=0;const a=e.steps([t,n]);for(const[c,i]of a)s>0&&h(A,e.coords,[c,i]),e.move(c,i),await Q(750),s<a.length-1&&(D.play(),d(`[data-coords="${c}-${i}"]`).innerHTML=`<span>${s++}</span>`);r=!1,e.element.draggable=!0,e.element.classList.remove("move"),A.classList.remove("isMoving")}),A.appendChild(o)}}const M=[[1,2],[2,1],[2,-1],[1,-2],[-1,-2],[-2,-1],[-2,1],[-1,2]];function m(A,e){return A[0]===e[0]&&A[1]===e[1]}function y([A,e]){return M.map(([r,n])=>[A+r,e+n]).filter(r=>!r.some(n=>n<0||n>7))}function T(A,e){const r=[A],n=[];let t;for(t=r.shift();!m(t,e);){const s=y(t);n.push({from:t,to:s}),r.push(...s),t=r.shift()}const o=[e];for(;!m(o[0],A);)for(const{from:s,to:a}of n)if(a.some(c=>m(o[0],c))){o.unshift(s);break}return o}function x(A){let e,r;return{move(n,t){A.style.left=`${n*B}%`,A.style.top=`${t*B}%`,e=n,r=t},steps(n){return T([e,r],n)},get element(){return A},get coords(){return[e,r]}}}const v=x(d(".knightChess"));E(d(".board"),v);v.move(p(8),p(8));v.element.addEventListener("dragstart",A=>{A.dataTransfer.effectAllowed="move"});
